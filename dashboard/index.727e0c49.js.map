{"mappings":"AAAA,MAAMA,gBAAkBC,OAAOC,UAAU,mBACnCC,cAAgBF,OAAOC,UAAU,iBAEvC,SAASE,eACRH,OAAOI,YAAY,oBAGpB,SAASC,YACR,IAAIC,EAAcC,SAASC,eAAe,eAAeC,MACrDH,IAAgBA,EAAYI,WAAW,OAC1CJ,EAAc,IAAMA,EACpBC,SAASC,eAAe,eAAeC,MAAQH,GAGhDJ,cAAcO,MAAQH,EACtBN,OAAOI,YAAY,iBAGpB,SAASO,gBAAgBC,GACxBC,QAAQC,IAAI,2BAA4BF,GAEpCA,GACHL,SAASC,eAAe,iBAAiBO,UAAY,YACrDR,SAASC,eAAe,oBAAoBQ,gBAAgB,YAC5DT,SAASC,eAAe,iBAAiBS,aAAa,WAAY,QAClEV,SAASC,eAAe,eAAeS,aAAa,WAAY,QAChEV,SAASC,eAAe,eAAeS,aAAa,WAAY,UAEhEV,SAASC,eAAe,iBAAiBO,UAAY,eACrDR,SAASC,eAAe,iBAAiBQ,gBAAgB,YACzDT,SAASC,eAAe,oBAAoBS,aAAa,WAAY,QACrEV,SAASC,eAAe,eAAeQ,gBAAgB,YACvDT,SAASC,eAAe,eAAeQ,gBAAgB,aAIzDE,OAAOC,kBAAkBpB,iBAAiBqB,MAAK,KAC9CP,QAAQC,IAAI,0BAA2Bf,gBAAgBU,OACvDE,iBAA0C,IAA1BZ,gBAAgBU,OAEhCS,OAAOC,kBAAkBjB,eAAekB,MAAK,KAC5CP,QAAQC,IAAI,wBAAyBZ,cAAcO,OACnDF,SAASC,eAAe,eAAeC,MAAQP,cAAcO,MAE7DP,cAAcmB,GAAG,UAAUC,IAC1BT,QAAQC,IAAI,qBAAsBQ,GAClCf,SAASC,eAAe,eAAeC,MAAQa,QAIjDvB,gBAAgBsB,GAAG,UAAUC,IAC5BT,QAAQC,IAAI,uBAAwBQ,GACpCX,gBAAgBW,MAGjBf,SAASC,eAAe,iBAAiBe,iBAAiB,SAAS,KAClElB,eAEDE,SAASC,eAAe,oBAAoBe,iBAAiB,SAAS,KACrEpB","sources":["src/dashboard/index.js"],"sourcesContent":["const twitchConnected = nodecg.Replicant('twitchConnected');\nconst twitchChannel = nodecg.Replicant('twitchChannel');\n\nfunction onDisconnect() {\n\tnodecg.sendMessage('DisconnectTwitch');\n}\n\nfunction onConnect() {\n\tlet channelName = document.getElementById('channelName').value;\n\tif (channelName && !channelName.startsWith('#')) {\n\t\tchannelName = '#' + channelName;\n\t\tdocument.getElementById('channelName').value = channelName;\n\t}\n\n\ttwitchChannel.value = channelName;\n\tnodecg.sendMessage('ConnectTwitch');\n}\n\nfunction setTwitchStatus(isConnected) {\n\tconsole.log('setting twitch staths to', isConnected);\n\n\tif (isConnected) {\n\t\tdocument.getElementById('twitch-status').innerText = 'Connected';\n\t\tdocument.getElementById('submitDisconnect').removeAttribute('disabled');\n\t\tdocument.getElementById('submitConnect').setAttribute('disabled', 'true');\n\t\tdocument.getElementById('channelName').setAttribute('readonly', 'true');\n\t\tdocument.getElementById('channelName').setAttribute('disabled', 'true');\n\t} else {\n\t\tdocument.getElementById('twitch-status').innerText = 'Disconnected';\n\t\tdocument.getElementById('submitConnect').removeAttribute('disabled',);\n\t\tdocument.getElementById('submitDisconnect').setAttribute('disabled', 'true');\n\t\tdocument.getElementById('channelName').removeAttribute('readonly');\n\t\tdocument.getElementById('channelName').removeAttribute('disabled',);\n\t}\n}\n\nNodeCG.waitForReplicants(twitchConnected).then(() => {\n\tconsole.log('got connected replicant', twitchConnected.value);\n\tsetTwitchStatus(twitchConnected.value === true);\n\n\tNodeCG.waitForReplicants(twitchChannel).then(() => {\n\t\tconsole.log('got channel replicant', twitchChannel.value);\n\t\tdocument.getElementById('channelName').value = twitchChannel.value;\n\n\t\ttwitchChannel.on('change', nextVal => {\n\t\t\tconsole.log('channel changed to', nextVal);\n\t\t\tdocument.getElementById('channelName').value = nextVal;\n\t\t});\n\t});\n\n\ttwitchConnected.on('change', nextVal => {\n\t\tconsole.log('connected changed to', nextVal);\n\t\tsetTwitchStatus(nextVal);\n\t});\n\n\tdocument.getElementById('submitConnect').addEventListener('click', () => {\n\t\tonConnect();\n\t});\n\tdocument.getElementById('submitDisconnect').addEventListener('click', () => {\n\t\tonDisconnect();\n\t});\n});\n\n"],"names":["twitchConnected","nodecg","Replicant","twitchChannel","onDisconnect","sendMessage","onConnect","channelName","document","getElementById","value","startsWith","setTwitchStatus","isConnected","console","log","innerText","removeAttribute","setAttribute","NodeCG","waitForReplicants","then","on","nextVal","addEventListener"],"version":3,"file":"index.727e0c49.js.map"}